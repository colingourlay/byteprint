{% extends 'admin/main.html' %}

{% block content %}
<p>Use this page to manage your blog widgets.</p>
<h2>Build a Widget</h2>
<div class="form400">
    <form action='{% url admin_widgets_build %}' method='post' class="uniForm">
        <fieldset class="blockLabels">
            <div class="ctrlHolder">
                {{ form.blueprint_name.label_tag }}{{ form.blueprint_name }}<p class="formHint">{{ form.blueprint_name.help_text }}</p>
            </div>
        </fieldset> 
        <div class="buttonHolder">
            <button type="submit" class="primaryAction">Build</button>
        </div>
    </form>
</div>
    <h2>Installed Widgets</h2>
    {% if widgets %}
    <ul>
        {% for widget in widgets %}
        <li><span{% if not widget.is_enabled %} class="disabled"{% endif %}>{{ widget.blueprint_name }}</span> <span class="small">[ {% if widget.is_enabled %}<a href="{% url admin_widgets_disable widget_id=widget.id %}">disable</a>{% else %}<a href="{% url admin_widgets_enable widget_id=widget.id %}">enable</a>{% endif %} | <a class="neutral" href="{% url admin_widgets_edit widget_id=widget.id %}">edit</a> | <a class="negative" href="{% url admin_widgets_delete widget_id=widget.id %}">delete</a> ]</span> <span class="small">Container: {% if widget.is_in_any_container %}<a class="disabled" href="{% url admin_widgets_move widget_id=widget.id %}">None</a>{% else %}<strong>None</strong>{% endif %}{% for container in containers %} / {% ifequal widget.container container %}<strong>{{ container.name }}</strong>{% else %}<a class="disabled" href="{% url admin_widgets_move_to_container widget_id=widget.id container_id=container.id %}">{{ container.name }}</a>{% endifequal %}{% endfor %}</span></li>    
        {% endfor %}
    </ul>
    {% else %}
    <p>None</p>
    {% endif %}
{% endblock %}